"use strict";(self.webpackChunkharvest=self.webpackChunkharvest||[]).push([[716],{716:function(e,n,t){t.r(n),t.d(n,{startInputShims:function(){return L}});var r,o=t(4165),i=t(5861),a=t(2151),u=t(226),c=t(8857);!function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"}(r||(r={}));var s={getEngine:function(){var e;return(null===(e=null===c.w||void 0===c.w?void 0:c.w.Capacitor)||void 0===e?void 0:e.isPluginAvailable("Keyboard"))&&(null===c.w||void 0===c.w?void 0:c.w.Capacitor.Plugins.Keyboard)},getResizeMode:function(){var e=this.getEngine();return e&&e.getResizeMode?e.getResizeMode():Promise.resolve(void 0)}},d=new WeakMap,l=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d.has(e)!==t&&(t?f(e,n,r,o):v(e,n))},f=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n.parentNode,i=n.cloneNode(!1);i.classList.add("cloned-input"),i.tabIndex=-1,r&&(i.disabled=!0),o.appendChild(i),d.set(e,i);var a="rtl"===e.ownerDocument.dir?9999:-9999;e.style.pointerEvents="none",n.style.transform="translate3d(".concat(a,"px,").concat(t,"px,0) scale(0)")},v=function(e,n){var t=d.get(e);t&&(d.delete(e),t.remove()),e.style.pointerEvents="",n.style.transform=""},p=function(e,n,t){if(!t||!n)return function(){};var r=function(t){var r;(r=n)===r.getRootNode().activeElement&&l(e,n,t)},o=function(){return l(e,n,!1)},i=function(){return r(!0)},a=function(){return r(!1)};return(0,u.a)(t,"ionScrollStart",i),(0,u.a)(t,"ionScrollEnd",a),n.addEventListener("blur",o),function(){(0,u.b)(t,"ionScrollStart",i),(0,u.b)(t,"ionScrollEnd",a),n.removeEventListener("blur",o)}},h="input, textarea, [no-blur], [contenteditable]",m=function(){var e=!0,n=!1,t=document,r=function(){n=!0},o=function(){e=!0},i=function(r){if(n)n=!1;else{var o=t.activeElement;if(o&&!o.matches(h)){var i=r.target;i!==o&&(i.matches(h)||i.closest(h)||(e=!1,setTimeout((function(){e||o.blur()}),50)))}}};return(0,u.a)(t,"ionScrollStart",r),t.addEventListener("focusin",o,!0),t.addEventListener("touchend",i,!1),function(){(0,u.b)(t,"ionScrollStart",r,!0),t.removeEventListener("focusin",o,!0),t.removeEventListener("touchend",i,!1)}},w=function(e,n,t){var r,o=null!==(r=e.closest("ion-item,[ion-item]"))&&void 0!==r?r:e;return b(o.getBoundingClientRect(),n.getBoundingClientRect(),t,e.ownerDocument.defaultView.innerHeight)},b=function(e,n,t,r){var o=e.top,i=e.bottom,a=n.top,u=a+15,c=Math.min(n.bottom,r-t)-50-i,s=u-o,d=Math.round(c<0?-c:s>0?-s:0),l=Math.min(d,o-a),f=Math.abs(l)/.3;return{scrollAmount:l,scrollDuration:Math.min(400,Math.max(150,f)),scrollPadding:t,inputSafeY:4-(o-u)}},g="$ionPaddingTimer",y=function(e,n,t){var r=e[g];r&&clearTimeout(r),n>0?e.style.setProperty("--keyboard-offset","".concat(n,"px")):e[g]=setTimeout((function(){e.style.setProperty("--keyboard-offset","0px"),t&&t()}),120)},x=function(e,n,t){e.addEventListener("focusout",(function(){n&&y(n,0,t)}),{once:!0})},E=0,S=function(e,n,t,a,u,c,s){var d=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=c&&(void 0===s||s.mode===r.None),f=function(){var r=(0,i.Z)((0,o.Z)().mark((function r(){return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:k(e,n,t,a,u,l,d);case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return e.addEventListener("focusin",f,!0),function(){e.removeEventListener("focusin",f,!0)}},k=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n,t,r,c,s,d){var f,v,p,h,m,b,g,S=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=S.length>6&&void 0!==S[6]&&S[6],r||c){e.next=3;break}return e.abrupt("return");case 3:if(v=w(n,r||c,s),!(r&&Math.abs(v.scrollAmount)<4)){e.next=8;break}return t.focus(),d&&null!==r&&(E+=v.scrollPadding,y(r,E),x(t,r,(function(){return E=0}))),e.abrupt("return");case 8:if(l(n,t,!0,v.inputSafeY,f),t.focus(),(0,u.r)((function(){return n.click()})),d&&r&&(E+=v.scrollPadding,y(r,E)),"undefined"===typeof window){e.next=25;break}if(h=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==p&&clearTimeout(p),window.removeEventListener("ionKeyboardDidShow",m),window.removeEventListener("ionKeyboardDidShow",h),!r){e.next=6;break}return e.next=6,(0,a.c)(r,0,v.scrollAmount,v.scrollDuration);case 6:l(n,t,!1,v.inputSafeY),t.focus(),d&&x(t,r,(function(){return E=0}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function e(){window.removeEventListener("ionKeyboardDidShow",e),window.addEventListener("ionKeyboardDidShow",h)},!r){e.next=24;break}return e.next=18,(0,a.g)(r);case 18:if(b=e.sent,g=b.scrollHeight-b.clientHeight,!(v.scrollAmount>g-b.scrollTop)){e.next=24;break}return"password"===t.type?(v.scrollAmount+=50,window.addEventListener("ionKeyboardDidShow",m)):window.addEventListener("ionKeyboardDidShow",h),p=setTimeout(h,1e3),e.abrupt("return");case 24:h();case 25:case"end":return e.stop()}}),e)})));return function(n,t,r,o,i,a){return e.apply(this,arguments)}}(),L=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n,t){var r,c,d,l,f,v,h,w,b,g,y,x,E,k,L,Z,M;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document,c="ios"===t,d="android"===t,l=n.getNumber("keyboardHeight",290),f=n.getBoolean("scrollAssist",!0),v=n.getBoolean("hideCaretOnScroll",c),h=n.getBoolean("inputBlurring",c),w=n.getBoolean("scrollPadding",!0),b=Array.from(r.querySelectorAll("ion-input, ion-textarea")),g=new WeakMap,y=new WeakMap,e.next=13,s.getResizeMode();case 13:for(x=e.sent,E=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){var t,r,i,c,s,h;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return(0,u.c)(n,e)}));case 2:if(t=n.shadowRoot||n,r=t.querySelector("input")||t.querySelector("textarea"),i=(0,a.a)(n),c=i?null:n.closest("ion-footer"),r){e.next=8;break}return e.abrupt("return");case 8:i&&v&&!g.has(n)&&(s=p(n,r,i),g.set(n,s)),"date"===r.type||"datetime-local"===r.type||!i&&!c||!f||y.has(n)||(h=S(n,r,i,c,l,w,x,d),y.set(n,h));case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(e){if(v){var n=g.get(e);n&&n(),g.delete(e)}if(f){var t=y.get(e);t&&t(),y.delete(e)}},h&&m(),L=0,Z=b;L<Z.length;L++)M=Z[L],E(M);r.addEventListener("ionInputDidLoad",(function(e){E(e.detail)})),r.addEventListener("ionInputDidUnload",(function(e){k(e.detail)}));case 20:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()}}]);